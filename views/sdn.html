<html>
<head>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="../static/css/lux_bootstrap.min.css"></link>
    <link rel="stylesheet" href="../static/css/style.css"></link>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="../static/js/doT.min.js" charset="utf-8"></script>
    <script src="../static/js/search.js"></script>
    <script src="../static/js/sdn.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">OFACasaurus</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" href="/sdn">SDN</a>
              </li>
                    <li class="nav-item">
                <a class="nav-link" href="/press-releases">Press Releases</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/about">About</a>
              </li>
                </ul>
          </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4 col-md-12 page-col left-col">
                <h3 class="col-header">SDN Search</h3> <!--<span class="badge badge-primary badge-pill">Beta</span>--></h3>
                <hr>
                <form class="search-form">
                    <div class="form-row">
                        <div class="form-group col-md-7">
                            <label for="name-input">Name</label>
                            <input type="text" class="form-control form-control-sm" id="name-input">
                        </div>
                        <div class="col-md-5">
                            <label for="name-input">Fuzziness(BETA)</label>
                            <input type="text" class="form-control form-control-sm" id="name-input">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-5">
                            <select class="custom-select form-control form-control-sm" id="type-select">
                                <option selected="">All types</option>
                                <option value="individual">Individual</option>
                                <option value="entity">Entity</option>
                                <option value="aircraft">Aircraft</option>
                                <option value="vessel">Vessel</option>
                            </select>
                        </div>
                        <div class="form-group col-md-7">
                            <select class="custom-select form-control form-control-sm" id="program-select">
                                <option selected="">All programs</option>
                                <option value="561List">561List</option>
                                <option value="BALKANS">BALKANS</option>
                                <option value="BELARUS">BELARUS</option>
                                <option value="BURUNDI">BURUNDI</option>
                                <option value="CAR">CAR</option>
                                <option value="CUBA">CUBA</option>
                                <option value="CYBER2">CYBER2</option>
                                <option value="DARFUR">DARFUR</option>
                                <option value="DPRK">DPRK</option>
                                <option value="DPRK2">DPRK2</option>
                                <option value="DPRK3">DPRK3</option>
                                <option value="DPRK4">DPRK4</option>
                                <option value="DRCONGO">DRCONGO</option>
                                <option value="FSE-SY">FSE-SY</option>
                                <option value="FTO">FTO</option>
                                <option value="GLOMAG">GLOMAG</option>
                                <option value="HRIT-IR">HRIT-IR</option>
                                <option value="HRIT-SY">HRIT-SY</option>
                                <option value="IFSR">IFSR</option>
                                <option value="IRAN">IRAN</option>
                                <option value="IRAN-HR">IRAN-HR</option>
                                <option value="IRAN-TRA">IRAN-TRA</option>
                                <option value="IRAQ2">IRAQ2</option>
                                <option value="IRAQ3">IRAQ3</option>
                                <option value="IRGC">IRGC</option>
                                <option value="ISA">ISA</option>
                                <option value="LEBANON">LEBANON</option>
                                <option value="LIBYA2">LIBYA2</option>
                                <option value="LIBYA3">LIBYA3</option>
                                <option value="MAGNIT">MAGNIT</option>
                                <option value="NPWMD">NPWMD</option>
                                <option value="NSPLC">NSPLC</option>
                                <option value="SDGT">SDGT</option>
                                <option value="SDNT">SDNT</option>
                                <option value="SDNTK">SDNTK</option>
                                <option value="SDT">SDT</option>
                                <option value="SOMALIA">SOMALIA</option>
                                <option value="SOUTH SUDAN">SOUTH SUDAN</option>
                                <option value="SYRIA">SYRIA</option>
                                <option value="TCO">TCO</option>
                                <option value="UKRAINE-E013660">UKRAINE-E013660</option>
                                <option value="UKRAINE-E013661">UKRAINE-E013661</option>
                                <option value="UKRAINE-E013662">UKRAINE-E013662</option>
                                <option value="UKRAINE-E013685">UKRAINE-E013685</option>
                                <option value="VENEZUELA">VENEZUELA</option>
                                <option value="YEMEN">YEMEN</option>
                                <option value="ZIMBABWE">ZIMBABWE</option>
                            </select>
                        </div>
                    </div><!-- /form-row -->

                    <h5 id="more-filters-header">Additional Filters</h5>

                    <div class="search-rows">
                        <!-- Populated by Javascript -->
                    </div>
                    <div class="search-row-error-alert">
                            <!-- Populated by Javascript if error -->
                    </div>
                    <div class="form-group search-button-group">
                        <button type="submit" class="btn btn-primary btn-sm search-button">Search</button>
                    </div>
                </form>
            </div><!-- /left-col -->

            <div class="col-lg-8 col-md-12 page-col right-col">
                <h3 class="col-header text-center" id="results-header">Results</h3>
                <!-- <a><small class="float-right" id="collapse-all"> Collapse</small></a> <a><small class="float-right" id="expand-all"> Expand</small></a> -->
                <p class="print-view-filters text-center d-none d-print-block">
                    <!-- Populated by Javascript; only shown for printing -->
                </p>
                <hr class="no-bottom-margin">
                <div class="loader">Loading...</div>
                <div id="search-results">
                    <!-- Populated with Javscript -->
                </div>
            </div><!-- /col-md-8 -->

        </div><!-- /row -->
    </div><!-- /container-fluid -->



    <script id="card-template" type="text/template">
        <div class="card">
            <div class="card-header">
                <a data-toggle="collapse" href="#card-body-{{=it.main.id}}">
                    {{=it.main.Name}}
                </a>
                <small class="card-sdn-type">({{=it.main.Type}})</small>

                <div class="float-right" style="margin-left: 10px;">
                    {{=it.main.Program}}
                </div>
            </div>
            <div class="collapse hide" id="card-body-{{=it.main.id}}">
                <div class="card-body row">
                                        {{=JSON.stringify(it)}}
                    <div class="col-lg-6 col-md-6">
                        <div class="left-card-col">

                            {{ for (var category in it.categories) { }}
                                    {{ for (var key in it[it.categories[category]]) { }}
                                            {{? (Array.isArray(it[it.categories[category]][key]) && it[it.categories[category]][key].length > 1) }}
                                                    <h5 class="card-detail-header">{{=key}}:</h5>
                                                    <ul>
                                                            {{ for (var item in it[it.categories[category]][key]) { }}
                                                                    <li class="card-detail-info">{{=it[it.categories[category]][key][item]}}</li>
                                                            {{ } }}
                                                    </ul>
                                            {{??}}
                                                    <h5 class="card-detail-header">{{=key}}: <small class="card-detail-info">{{=it[it.categories[category]][key]}}</small></h5>
                                            {{?}}
                                    {{ } }}
                            {{ } }}

                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">

                        {{? it.context['Linked To'] }}
                            <h5 class="card-detail-header">Linked To:</h5>
                            <ul>
                            {{ for (var i in it.context['Linked To']) { }}
                                    <li class="card-detail-info">{{=it.context['Linked To'][i]}}</li>
                            {{ } }}
                            </ul>
                        {{?}}

                        {{? it.context['Press Releases'] }}
                            <h5 class="card-detail-header">Press Releases:</h5>
                            <ul>
                            {{ for (var i in it.context['Press Releases']) { }}
                                    <li class="card-detail-info">
                                        ({{=it.context['Press Releases'][i].date}})
                                        <a href="{{=it.context['Press Releases'][i].url}}">
                                            {{=it.context['Press Releases'][i].name}}
                                        </a>
                                    </li>
                            {{ } }}
                            </ul>
                        {{?}}

                    </div>
                </div>
            </div>
        </div>
    </script>

    <script id="search-row-template" type="text/template">
        <div id="search-row-{{=it.id}}" class="search-row form-row">
            <div class="form-group col-lg-5 col-md-5">
                <select id="search-row-{{=it.id}}-select" class="search-row-select custom-select form-control form-control-sm">
                    <option selected="">Select field</option>
                    {{ for (var f in it.fields) { }} <!-- for loop over the 'fields' key -->
                        <option value="{{=f}}">{{=it.fields[f]}}</option>
                    {{ } }}
                </select>
            </div>
            <div class="form-group col-lg-7 col-md-7">
                <input type="text" id="search-row-{{=it.id}}-input" class="form-control form-control-sm">
            </div>
        </div>
    </script>

</body>

</html>
